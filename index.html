<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IJoba Chase - Products</title> 

  <!-- Stylesheets -->
  <link rel="stylesheet" href="style.css" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      color: #111;
      background: #fff;
    }
    h1, h2, h3, h4, h5 {
      font-family: 'Poppins', sans-serif;
    }

    /* Sticky, Dark, Animated Navbar */
    .navbar {
      position: sticky;
      top: 0;
      background: linear-gradient(90deg, #061c2c, #0a2640);
      z-index: 1000;
      padding: 0.8rem 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      animation: slideDown 0.5s ease;
    }

    @keyframes slideDown {
      from { top: -80px; opacity: 0; }
      to { top: 0; opacity: 1; }
    }

    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1200px;
      margin: 0 auto;
    }

    .nav-logo img {
      max-width: 60px;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      transition: max-height 0.4s ease;
    }

    .nav-links li a {
      color: #fff;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .nav-links li a:hover {
      color: #25d366;
    }

    .hamburger {
      font-size: 1.5rem;
      color: #fff;
      display: none;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .hamburger {
        display: block;
      }

      .nav-links {
        flex-direction: column;
        width: 100%;
        max-height: 0;
        overflow: hidden;
        background: #0a2640;
        margin-top: 1rem;
      }

      .nav-links.active {
        max-height: 500px;
      }

      .nav-links li {
        text-align: center;
        padding: 0.8rem 0;
      }
    }

    /* Floating Social Icons */
    .floating-icons {
      position: fixed;
      bottom: 20px;
      left: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 999;
    }

    .floating-icons a {
      background: #25d366;
      color: #fff;
      font-size: 1.2rem;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: background 0.3s ease;
    }

    .floating-icons a:hover {
      background: #1ebc57;
    }
  </style>
</head>
<body>

<!-- Load header.html dynamically -->
<div id="header"></div>
<script>
  fetch('header.html')
    .then(res => res.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;
    });
</script>

<!-- Load hero.html dynamically -->
<div id="hero-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('hero.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('hero-section').innerHTML = data;
      });
  });
</script>

<main>
  <!-- Load about.html dynamically -->
<div id="about-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('about.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('about-section').innerHTML = data;
      });
  });
</script>

 <!-- Load product-grid.html dynamically AND populate it -->
<div id="product-grid-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('product-grid.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('product-grid-section').innerHTML = data;

        // âœ… Now safely access and load the products
        const products = [
          { name: "Product 1", image: "Product 1.jpg", message: "Hello, I'm interested in Product 1" },
          { name: "Product 2", image: "Product 2.jpg", message: "Hello, I'm interested in Product 2" },
          { name: "Product 3", image: "Product 3.jpg", message: "Hello, I'm interested in Product 3" },
          { name: "Product 4", image: "Product 4.jpg", message: "Hello, I'm interested in Product 4" }
        ];

        const container = document.getElementById('product-container');
        if (container) {
          products.forEach((product, index) => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.setAttribute('data-aos', 'fade-up');
            card.setAttribute('data-aos-delay', index * 100);
            card.innerHTML = `
              <div class="image-link" style="cursor: pointer;">
                <img src="products/${product.image}" alt="${product.name}" />
              </div>
              <h3>${product.name}</h3>
              <a href="https://wa.me/2341234567890?text=${encodeURIComponent(product.message)}" class="chat-button">Chat</a>
            `;
            card.querySelector(".image-link").addEventListener("click", () => {
              localStorage.setItem("selectedProduct", JSON.stringify(product));
              window.location.href = "product.html";
            });
            container.appendChild(card);
          });
        }
      });
  });
</script>

  <!-- Load store.html dynamically -->
<div id="store-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('store.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('store-section').innerHTML = data;
      });
  });
</script>

  <!-- Load gifts.html -->
<div id="gifts-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('gifts.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('gifts-section').innerHTML = data;
      });
  });
</script>

<!-- Load boost.html -->
<div id="boost-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('boost.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('boost-section').innerHTML = data;
      });
  });
</script>

<!-- Load virtual-number.html -->
<div id="virtual-number-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('virtual-number.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('virtual-number-section').innerHTML = data;
      });
  });
</script>
</main>

<!-- Load footer.html -->
<div id="footer-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('footer.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('footer-section').innerHTML = data;
      });
  });
</script>

<!-- Lightbox Viewer -->
<div id="lightbox" class="lightbox">
  <span class="close-btn" onclick="closeLightbox()">&times;</span>
  <img id="lightbox-img" src="" alt="Full View" />
</div>

<!-- Load floating-icons.html -->
<div id="floating-icons-section"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch('floating-icons.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('floating-icons-section').innerHTML = data;
      });
  });
</script>

<!-- External JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>AOS.init();</script>
<script src="https://kit.fontawesome.com/212a7fbc8b.js" crossorigin="anonymous"></script>
<script src="script.js"></script>

<!-- Navbar Toggle -->
<script>
  const hamburger = document.getElementById('hamburger');
  const navLinks = document.getElementById('nav-links');
  hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('active');
  });
</script>

<!-- Lightbox Fix -->
<script>
  function closeLightbox() {
    document.getElementById("lightbox").style.display = "none";
    document.getElementById("lightbox-img").src = "";
  }

  document.addEventListener("DOMContentLoaded", () => {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");

    document.addEventListener("click", function (e) {
      const imageDiv = e.target.closest(".image-link");
      if (imageDiv) {
        const img = imageDiv.querySelector("img");
        if (img) {
          lightboxImg.src = img.src;
          lightbox.style.display = "flex";
        }
      }
    });

    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });
  });
</script>

<!-- Cart Count Sync -->
<script>
  function updateCartCount() {
    const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
    const countBadge = document.querySelector('.cart-count-badge');
    if (countBadge) {
      countBadge.textContent = cartItems.length;
    }
  }
  updateCartCount();
  window.addEventListener('storage', updateCartCount);
</script>

</body>
</html>
